import{d as ie}from"./BaseMessageError.vue_vue_type_style_index_0_scoped_true_lang.f998b3f9.js";import{_ as q,C as J,D as re,F as ae,V as oe,Z as ce,a4 as he,G as V,E as ue,f as pe,h as A,c as $,j as le,i as G,l as de,k as fe,g as Ee}from"./index.d0be3d05.js";import{Q as me,h as xe}from"./QBtn.ef1a2066.js";import{T as H,m as D,n as W,o as Ne,q as Te,r as _e,S as Ae,K as o,O as g,L as Ie,b as K}from"./index.esm.9399fac8.js";const ke={};function ye(e,t){return J(),re(ie,{class:"b-spinner",color:"primary",size:"2em"})}var rt=q(ke,[["render",ye],["__scopeId","data-v-5d848524"]]);const ve={class:"flex column items-center"},ge=["errorMessage"],Ce={__name:"BaseMessageError",props:{errorMessage:String},setup(e){return(t,n)=>{const i=ae("RouterLink");return J(),oe("div",ve,[ce("h1",{class:"error-title",errorMessage:e.errorMessage},he(e.errorMessage),9,ge),V(i,{to:"/characters-list/1"},{default:ue(()=>[V(me,{class:"btn is-back",icon:"arrow_back",label:"Back to Character List"})]),_:1})])}}};var at=q(Ce,[["__scopeId","data-v-3231ae4c"]]);let w,C=0;const f=new Array(256);for(let e=0;e<256;e++)f[e]=(e+256).toString(16).substring(1);const Oe=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let i=t;i>0;i--)n.push(Math.floor(Math.random()*256));return n}})(),j=4096;function ot(){(w===void 0||C+16>j)&&(C=0,w=Oe(j));const e=Array.prototype.slice.call(w,C,C+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,f[e[0]]+f[e[1]]+f[e[2]]+f[e[3]]+"-"+f[e[4]]+f[e[5]]+"-"+f[e[6]]+f[e[7]]+"-"+f[e[8]]+f[e[9]]+"-"+f[e[10]]+f[e[11]]+f[e[12]]+f[e[13]]+f[e[14]]+f[e[15]]}var ct=pe({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:n}}=Ee(),i=G(de,A);if(i===A)return console.error("QPage needs to be a deep child of QLayout"),A;if(G(fe,A)===A)return console.error("QPage needs to be child of QPageContainer"),A;const r=$(()=>{const h=(i.header.space===!0?i.header.size:0)+(i.footer.space===!0?i.footer.size:0);if(typeof e.styleFn=="function"){const u=i.isContainer.value===!0?i.containerHeight.value:n.screen.height;return e.styleFn(h,u)}return{minHeight:i.isContainer.value===!0?i.containerHeight.value-h+"px":n.screen.height===0?h!==0?`calc(100vh - ${h}px)`:"100vh":n.screen.height-h+"px"}}),c=$(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>le("main",{class:c.value,style:r.value},xe(t.default))}});function be(e){return typeof e=="object"&&e!==null}function De(e,t){if(!Boolean(e))throw new Error(t!=null?t:"Unexpected invariant triggered.")}const Le=/\r\n|[\n\r]/g;function B(e,t){let n=0,i=1;for(const s of e.body.matchAll(Le)){if(typeof s.index=="number"||De(!1),s.index>=t)break;n=s.index+s[0].length,i+=1}return{line:i,column:t+1-n}}function Re(e){return X(e.source,B(e.source,e.start))}function X(e,t){const n=e.locationOffset.column-1,i="".padStart(n)+e.body,s=t.line-1,r=e.locationOffset.line-1,c=t.line+r,h=t.line===1?n:0,u=t.column+h,m=`${e.name}:${c}:${u}
`,l=i.split(/\r\n|[\n\r]/g),N=l[s];if(N.length>120){const x=Math.floor(u/80),S=u%80,E=[];for(let _=0;_<N.length;_+=80)E.push(N.slice(_,_+80));return m+Q([[`${c} |`,E[0]],...E.slice(1,x+1).map(_=>["|",_]),["|","^".padStart(S)],["|",E[x+1]]])}return m+Q([[`${c-1} |`,l[s-1]],[`${c} |`,N],["|","^".padStart(u)],[`${c+1} |`,l[s+1]]])}function Q(e){const t=e.filter(([i,s])=>s!==void 0),n=Math.max(...t.map(([i])=>i.length));return t.map(([i,s])=>i.padStart(n)+(s?" "+s:"")).join(`
`)}function Se(e){const t=e[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}class U extends Error{constructor(t,...n){var i,s,r;const{nodes:c,source:h,positions:u,path:m,originalError:l,extensions:N}=Se(n);super(t),this.name="GraphQLError",this.path=m!=null?m:void 0,this.originalError=l!=null?l:void 0,this.nodes=Y(Array.isArray(c)?c:c?[c]:void 0);const x=Y((i=this.nodes)===null||i===void 0?void 0:i.map(E=>E.loc).filter(E=>E!=null));this.source=h!=null?h:x==null||(s=x[0])===null||s===void 0?void 0:s.source,this.positions=u!=null?u:x==null?void 0:x.map(E=>E.start),this.locations=u&&h?u.map(E=>B(h,E)):x==null?void 0:x.map(E=>B(E.source,E.start));const S=be(l==null?void 0:l.extensions)?l==null?void 0:l.extensions:void 0;this.extensions=(r=N!=null?N:S)!==null&&r!==void 0?r:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),l!=null&&l.stack?Object.defineProperty(this,"stack",{value:l.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,U):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(t+=`

`+Re(n.loc));else if(this.source&&this.locations)for(const n of this.locations)t+=`

`+X(this.source,n);return t}toJSON(){const t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}}function Y(e){return e===void 0||e.length===0?void 0:e}function d(e,t,n){return new U(`Syntax Error: ${n}`,{source:e,positions:[t]})}var P;(function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(P||(P={}));var a;(function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"})(a||(a={}));class we{constructor(t){const n=new H(a.SOF,0,0,0,0);this.source=t,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let t=this.token;if(t.kind!==a.EOF)do if(t.next)t=t.next;else{const n=Be(this,t.end);t.next=n,n.prev=t,t=n}while(t.kind===a.COMMENT);return t}}function Fe(e){return e===a.BANG||e===a.DOLLAR||e===a.AMP||e===a.PAREN_L||e===a.PAREN_R||e===a.SPREAD||e===a.COLON||e===a.EQUALS||e===a.AT||e===a.BRACKET_L||e===a.BRACKET_R||e===a.BRACE_L||e===a.PIPE||e===a.BRACE_R}function k(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function R(e,t){return Z(e.charCodeAt(t))&&ee(e.charCodeAt(t+1))}function Z(e){return e>=55296&&e<=56319}function ee(e){return e>=56320&&e<=57343}function T(e,t){const n=e.source.body.codePointAt(t);if(n===void 0)return a.EOF;if(n>=32&&n<=126){const i=String.fromCodePoint(n);return i==='"'?`'"'`:`"${i}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function p(e,t,n,i,s){const r=e.line,c=1+n-e.lineStart;return new H(t,n,i,r,c,s)}function Be(e,t){const n=e.source.body,i=n.length;let s=t;for(;s<i;){const r=n.charCodeAt(s);switch(r){case 65279:case 9:case 32:case 44:++s;continue;case 10:++s,++e.line,e.lineStart=s;continue;case 13:n.charCodeAt(s+1)===10?s+=2:++s,++e.line,e.lineStart=s;continue;case 35:return Pe(e,s);case 33:return p(e,a.BANG,s,s+1);case 36:return p(e,a.DOLLAR,s,s+1);case 38:return p(e,a.AMP,s,s+1);case 40:return p(e,a.PAREN_L,s,s+1);case 41:return p(e,a.PAREN_R,s,s+1);case 46:if(n.charCodeAt(s+1)===46&&n.charCodeAt(s+2)===46)return p(e,a.SPREAD,s,s+3);break;case 58:return p(e,a.COLON,s,s+1);case 61:return p(e,a.EQUALS,s,s+1);case 64:return p(e,a.AT,s,s+1);case 91:return p(e,a.BRACKET_L,s,s+1);case 93:return p(e,a.BRACKET_R,s,s+1);case 123:return p(e,a.BRACE_L,s,s+1);case 124:return p(e,a.PIPE,s,s+1);case 125:return p(e,a.BRACE_R,s,s+1);case 34:return n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34?Ke(e,s):Ue(e,s)}if(D(r)||r===45)return Me(e,s,r);if(W(r))return je(e,s);throw d(e.source,s,r===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:k(r)||R(n,s)?`Unexpected character: ${T(e,s)}.`:`Invalid character: ${T(e,s)}.`)}return p(e,a.EOF,i,i)}function Pe(e,t){const n=e.source.body,i=n.length;let s=t+1;for(;s<i;){const r=n.charCodeAt(s);if(r===10||r===13)break;if(k(r))++s;else if(R(n,s))s+=2;else break}return p(e,a.COMMENT,t,s,n.slice(t+1,s))}function Me(e,t,n){const i=e.source.body;let s=t,r=n,c=!1;if(r===45&&(r=i.charCodeAt(++s)),r===48){if(r=i.charCodeAt(++s),D(r))throw d(e.source,s,`Invalid number, unexpected digit after 0: ${T(e,s)}.`)}else s=F(e,s,r),r=i.charCodeAt(s);if(r===46&&(c=!0,r=i.charCodeAt(++s),s=F(e,s,r),r=i.charCodeAt(s)),(r===69||r===101)&&(c=!0,r=i.charCodeAt(++s),(r===43||r===45)&&(r=i.charCodeAt(++s)),s=F(e,s,r),r=i.charCodeAt(s)),r===46||W(r))throw d(e.source,s,`Invalid number, expected digit but got: ${T(e,s)}.`);return p(e,c?a.FLOAT:a.INT,t,s,i.slice(t,s))}function F(e,t,n){if(!D(n))throw d(e.source,t,`Invalid number, expected digit but got: ${T(e,t)}.`);const i=e.source.body;let s=t+1;for(;D(i.charCodeAt(s));)++s;return s}function Ue(e,t){const n=e.source.body,i=n.length;let s=t+1,r=s,c="";for(;s<i;){const h=n.charCodeAt(s);if(h===34)return c+=n.slice(r,s),p(e,a.STRING,t,s+1,c);if(h===92){c+=n.slice(r,s);const u=n.charCodeAt(s+1)===117?n.charCodeAt(s+2)===123?Ve(e,s):$e(e,s):Ge(e,s);c+=u.value,s+=u.size,r=s;continue}if(h===10||h===13)break;if(k(h))++s;else if(R(n,s))s+=2;else throw d(e.source,s,`Invalid character within String: ${T(e,s)}.`)}throw d(e.source,s,"Unterminated string.")}function Ve(e,t){const n=e.source.body;let i=0,s=3;for(;s<12;){const r=n.charCodeAt(t+s++);if(r===125){if(s<5||!k(i))break;return{value:String.fromCodePoint(i),size:s}}if(i=i<<4|v(r),i<0)break}throw d(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+s)}".`)}function $e(e,t){const n=e.source.body,i=z(n,t+2);if(k(i))return{value:String.fromCodePoint(i),size:6};if(Z(i)&&n.charCodeAt(t+6)===92&&n.charCodeAt(t+7)===117){const s=z(n,t+8);if(ee(s))return{value:String.fromCodePoint(i,s),size:12}}throw d(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function z(e,t){return v(e.charCodeAt(t))<<12|v(e.charCodeAt(t+1))<<8|v(e.charCodeAt(t+2))<<4|v(e.charCodeAt(t+3))}function v(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function Ge(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw d(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function Ke(e,t){const n=e.source.body,i=n.length;let s=e.lineStart,r=t+3,c=r,h="";const u=[];for(;r<i;){const m=n.charCodeAt(r);if(m===34&&n.charCodeAt(r+1)===34&&n.charCodeAt(r+2)===34){h+=n.slice(c,r),u.push(h);const l=p(e,a.BLOCK_STRING,t,r+3,Ne(u).join(`
`));return e.line+=u.length-1,e.lineStart=s,l}if(m===92&&n.charCodeAt(r+1)===34&&n.charCodeAt(r+2)===34&&n.charCodeAt(r+3)===34){h+=n.slice(c,r),c=r+1,r+=4;continue}if(m===10||m===13){h+=n.slice(c,r),u.push(h),m===13&&n.charCodeAt(r+1)===10?r+=2:++r,h="",c=r,s=r;continue}if(k(m))++r;else if(R(n,r))r+=2;else throw d(e.source,r,`Invalid character within String: ${T(e,r)}.`)}throw d(e.source,r,"Unterminated string.")}function je(e,t){const n=e.source.body,i=n.length;let s=t+1;for(;s<i;){const r=n.charCodeAt(s);if(Te(r))++s;else break}return p(e,a.NAME,t,s,n.slice(t,s))}function Qe(e,t){return new Ye(e,t).parseDocument()}class Ye{constructor(t,n={}){const i=_e(t)?t:new Ae(t);this._lexer=new we(i),this._options=n,this._tokenCounter=0}parseName(){const t=this.expectToken(a.NAME);return this.node(t,{kind:o.NAME,value:t.value})}parseDocument(){return this.node(this._lexer.token,{kind:o.DOCUMENT,definitions:this.many(a.SOF,this.parseDefinition,a.EOF)})}parseDefinition(){if(this.peek(a.BRACE_L))return this.parseOperationDefinition();const t=this.peekDescription(),n=t?this._lexer.lookahead():this._lexer.token;if(n.kind===a.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(t)throw d(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const t=this._lexer.token;if(this.peek(a.BRACE_L))return this.node(t,{kind:o.OPERATION_DEFINITION,operation:g.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let i;return this.peek(a.NAME)&&(i=this.parseName()),this.node(t,{kind:o.OPERATION_DEFINITION,operation:n,name:i,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const t=this.expectToken(a.NAME);switch(t.value){case"query":return g.QUERY;case"mutation":return g.MUTATION;case"subscription":return g.SUBSCRIPTION}throw this.unexpected(t)}parseVariableDefinitions(){return this.optionalMany(a.PAREN_L,this.parseVariableDefinition,a.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:o.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(a.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(a.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const t=this._lexer.token;return this.expectToken(a.DOLLAR),this.node(t,{kind:o.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:o.SELECTION_SET,selections:this.many(a.BRACE_L,this.parseSelection,a.BRACE_R)})}parseSelection(){return this.peek(a.SPREAD)?this.parseFragment():this.parseField()}parseField(){const t=this._lexer.token,n=this.parseName();let i,s;return this.expectOptionalToken(a.COLON)?(i=n,s=this.parseName()):s=n,this.node(t,{kind:o.FIELD,alias:i,name:s,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(a.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(t){const n=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(a.PAREN_L,n,a.PAREN_R)}parseArgument(t=!1){const n=this._lexer.token,i=this.parseName();return this.expectToken(a.COLON),this.node(n,{kind:o.ARGUMENT,name:i,value:this.parseValueLiteral(t)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const t=this._lexer.token;this.expectToken(a.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(a.NAME)?this.node(t,{kind:o.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(t,{kind:o.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const t=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(t,{kind:o.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:o.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(t){const n=this._lexer.token;switch(n.kind){case a.BRACKET_L:return this.parseList(t);case a.BRACE_L:return this.parseObject(t);case a.INT:return this.advanceLexer(),this.node(n,{kind:o.INT,value:n.value});case a.FLOAT:return this.advanceLexer(),this.node(n,{kind:o.FLOAT,value:n.value});case a.STRING:case a.BLOCK_STRING:return this.parseStringLiteral();case a.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:o.BOOLEAN,value:!0});case"false":return this.node(n,{kind:o.BOOLEAN,value:!1});case"null":return this.node(n,{kind:o.NULL});default:return this.node(n,{kind:o.ENUM,value:n.value})}case a.DOLLAR:if(t)if(this.expectToken(a.DOLLAR),this._lexer.token.kind===a.NAME){const i=this._lexer.token.value;throw d(this._lexer.source,n.start,`Unexpected variable "$${i}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const t=this._lexer.token;return this.advanceLexer(),this.node(t,{kind:o.STRING,value:t.value,block:t.kind===a.BLOCK_STRING})}parseList(t){const n=()=>this.parseValueLiteral(t);return this.node(this._lexer.token,{kind:o.LIST,values:this.any(a.BRACKET_L,n,a.BRACKET_R)})}parseObject(t){const n=()=>this.parseObjectField(t);return this.node(this._lexer.token,{kind:o.OBJECT,fields:this.any(a.BRACE_L,n,a.BRACE_R)})}parseObjectField(t){const n=this._lexer.token,i=this.parseName();return this.expectToken(a.COLON),this.node(n,{kind:o.OBJECT_FIELD,name:i,value:this.parseValueLiteral(t)})}parseDirectives(t){const n=[];for(;this.peek(a.AT);)n.push(this.parseDirective(t));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(t){const n=this._lexer.token;return this.expectToken(a.AT),this.node(n,{kind:o.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t)})}parseTypeReference(){const t=this._lexer.token;let n;if(this.expectOptionalToken(a.BRACKET_L)){const i=this.parseTypeReference();this.expectToken(a.BRACKET_R),n=this.node(t,{kind:o.LIST_TYPE,type:i})}else n=this.parseNamedType();return this.expectOptionalToken(a.BANG)?this.node(t,{kind:o.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:o.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(a.STRING)||this.peek(a.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const i=this.parseConstDirectives(),s=this.many(a.BRACE_L,this.parseOperationTypeDefinition,a.BRACE_R);return this.node(t,{kind:o.SCHEMA_DEFINITION,description:n,directives:i,operationTypes:s})}parseOperationTypeDefinition(){const t=this._lexer.token,n=this.parseOperationType();this.expectToken(a.COLON);const i=this.parseNamedType();return this.node(t,{kind:o.OPERATION_TYPE_DEFINITION,operation:n,type:i})}parseScalarTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const i=this.parseName(),s=this.parseConstDirectives();return this.node(t,{kind:o.SCALAR_TYPE_DEFINITION,description:n,name:i,directives:s})}parseObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const i=this.parseName(),s=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),c=this.parseFieldsDefinition();return this.node(t,{kind:o.OBJECT_TYPE_DEFINITION,description:n,name:i,interfaces:s,directives:r,fields:c})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(a.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(a.BRACE_L,this.parseFieldDefinition,a.BRACE_R)}parseFieldDefinition(){const t=this._lexer.token,n=this.parseDescription(),i=this.parseName(),s=this.parseArgumentDefs();this.expectToken(a.COLON);const r=this.parseTypeReference(),c=this.parseConstDirectives();return this.node(t,{kind:o.FIELD_DEFINITION,description:n,name:i,arguments:s,type:r,directives:c})}parseArgumentDefs(){return this.optionalMany(a.PAREN_L,this.parseInputValueDef,a.PAREN_R)}parseInputValueDef(){const t=this._lexer.token,n=this.parseDescription(),i=this.parseName();this.expectToken(a.COLON);const s=this.parseTypeReference();let r;this.expectOptionalToken(a.EQUALS)&&(r=this.parseConstValueLiteral());const c=this.parseConstDirectives();return this.node(t,{kind:o.INPUT_VALUE_DEFINITION,description:n,name:i,type:s,defaultValue:r,directives:c})}parseInterfaceTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const i=this.parseName(),s=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),c=this.parseFieldsDefinition();return this.node(t,{kind:o.INTERFACE_TYPE_DEFINITION,description:n,name:i,interfaces:s,directives:r,fields:c})}parseUnionTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const i=this.parseName(),s=this.parseConstDirectives(),r=this.parseUnionMemberTypes();return this.node(t,{kind:o.UNION_TYPE_DEFINITION,description:n,name:i,directives:s,types:r})}parseUnionMemberTypes(){return this.expectOptionalToken(a.EQUALS)?this.delimitedMany(a.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const i=this.parseName(),s=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();return this.node(t,{kind:o.ENUM_TYPE_DEFINITION,description:n,name:i,directives:s,values:r})}parseEnumValuesDefinition(){return this.optionalMany(a.BRACE_L,this.parseEnumValueDefinition,a.BRACE_R)}parseEnumValueDefinition(){const t=this._lexer.token,n=this.parseDescription(),i=this.parseEnumValueName(),s=this.parseConstDirectives();return this.node(t,{kind:o.ENUM_VALUE_DEFINITION,description:n,name:i,directives:s})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw d(this._lexer.source,this._lexer.token.start,`${O(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const i=this.parseName(),s=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();return this.node(t,{kind:o.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:i,directives:s,fields:r})}parseInputFieldsDefinition(){return this.optionalMany(a.BRACE_L,this.parseInputValueDef,a.BRACE_R)}parseTypeSystemExtension(){const t=this._lexer.lookahead();if(t.kind===a.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)}parseSchemaExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),i=this.optionalMany(a.BRACE_L,this.parseOperationTypeDefinition,a.BRACE_R);if(n.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:o.SCHEMA_EXTENSION,directives:n,operationTypes:i})}parseScalarTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),i=this.parseConstDirectives();if(i.length===0)throw this.unexpected();return this.node(t,{kind:o.SCALAR_TYPE_EXTENSION,name:n,directives:i})}parseObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),r=this.parseFieldsDefinition();if(i.length===0&&s.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:o.OBJECT_TYPE_EXTENSION,name:n,interfaces:i,directives:s,fields:r})}parseInterfaceTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),r=this.parseFieldsDefinition();if(i.length===0&&s.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:o.INTERFACE_TYPE_EXTENSION,name:n,interfaces:i,directives:s,fields:r})}parseUnionTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),i=this.parseConstDirectives(),s=this.parseUnionMemberTypes();if(i.length===0&&s.length===0)throw this.unexpected();return this.node(t,{kind:o.UNION_TYPE_EXTENSION,name:n,directives:i,types:s})}parseEnumTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),i=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();if(i.length===0&&s.length===0)throw this.unexpected();return this.node(t,{kind:o.ENUM_TYPE_EXTENSION,name:n,directives:i,values:s})}parseInputObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),i=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();if(i.length===0&&s.length===0)throw this.unexpected();return this.node(t,{kind:o.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:i,fields:s})}parseDirectiveDefinition(){const t=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(a.AT);const i=this.parseName(),s=this.parseArgumentDefs(),r=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const c=this.parseDirectiveLocations();return this.node(t,{kind:o.DIRECTIVE_DEFINITION,description:n,name:i,arguments:s,repeatable:r,locations:c})}parseDirectiveLocations(){return this.delimitedMany(a.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const t=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(P,n.value))return n;throw this.unexpected(t)}node(t,n){return this._options.noLocation!==!0&&(n.loc=new Ie(t,this._lexer.lastToken,this._lexer.source)),n}peek(t){return this._lexer.token.kind===t}expectToken(t){const n=this._lexer.token;if(n.kind===t)return this.advanceLexer(),n;throw d(this._lexer.source,n.start,`Expected ${te(t)}, found ${O(n)}.`)}expectOptionalToken(t){return this._lexer.token.kind===t?(this.advanceLexer(),!0):!1}expectKeyword(t){const n=this._lexer.token;if(n.kind===a.NAME&&n.value===t)this.advanceLexer();else throw d(this._lexer.source,n.start,`Expected "${t}", found ${O(n)}.`)}expectOptionalKeyword(t){const n=this._lexer.token;return n.kind===a.NAME&&n.value===t?(this.advanceLexer(),!0):!1}unexpected(t){const n=t!=null?t:this._lexer.token;return d(this._lexer.source,n.start,`Unexpected ${O(n)}.`)}any(t,n,i){this.expectToken(t);const s=[];for(;!this.expectOptionalToken(i);)s.push(n.call(this));return s}optionalMany(t,n,i){if(this.expectOptionalToken(t)){const s=[];do s.push(n.call(this));while(!this.expectOptionalToken(i));return s}return[]}many(t,n,i){this.expectToken(t);const s=[];do s.push(n.call(this));while(!this.expectOptionalToken(i));return s}delimitedMany(t,n){this.expectOptionalToken(t);const i=[];do i.push(n.call(this));while(this.expectOptionalToken(t));return i}advanceLexer(){const{maxTokens:t}=this._options,n=this._lexer.advance();if(t!==void 0&&n.kind!==a.EOF&&(++this._tokenCounter,this._tokenCounter>t))throw d(this._lexer.source,n.start,`Document contains more that ${t} tokens. Parsing aborted.`)}}function O(e){const t=e.value;return te(e.kind)+(t!=null?` "${t}"`:"")}function te(e){return Fe(e)?`"${e}"`:e}var b=new Map,M=new Map,ne=!0,L=!1;function se(e){return e.replace(/[\s,]+/g," ").trim()}function ze(e){return se(e.source.body.substring(e.start,e.end))}function qe(e){var t=new Set,n=[];return e.definitions.forEach(function(i){if(i.kind==="FragmentDefinition"){var s=i.name.value,r=ze(i.loc),c=M.get(s);c&&!c.has(r)?ne&&console.warn("Warning: fragment with name "+s+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):c||M.set(s,c=new Set),c.add(r),t.has(r)||(t.add(r),n.push(i))}else n.push(i)}),K(K({},e),{definitions:n})}function Je(e){var t=new Set(e.definitions);t.forEach(function(i){i.loc&&delete i.loc,Object.keys(i).forEach(function(s){var r=i[s];r&&typeof r=="object"&&t.add(r)})});var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}function He(e){var t=se(e);if(!b.has(t)){var n=Qe(e,{experimentalFragmentVariables:L,allowLegacyFragmentVariables:L});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");b.set(t,Je(qe(n)))}return b.get(t)}function I(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];typeof e=="string"&&(e=[e]);var i=e[0];return t.forEach(function(s,r){s&&s.kind==="Document"?i+=s.loc.source.body:i+=s,i+=e[r+1]}),He(i)}function We(){b.clear(),M.clear()}function Xe(){ne=!1}function Ze(){L=!0}function et(){L=!1}var y={gql:I,resetCaches:We,disableFragmentWarnings:Xe,enableExperimentalFragmentVariables:Ze,disableExperimentalFragmentVariables:et};(function(e){e.gql=y.gql,e.resetCaches=y.resetCaches,e.disableFragmentWarnings=y.disableFragmentWarnings,e.enableExperimentalFragmentVariables=y.enableExperimentalFragmentVariables,e.disableExperimentalFragmentVariables=y.disableExperimentalFragmentVariables})(I||(I={}));I.default=I;var ht=I;export{rt as B,ct as Q,at as a,ht as g,ot as u};
